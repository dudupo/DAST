
\input{../texlib/head}
\begin{document}
\ifdefined\BOOK
\else
\setcounter{chapter}{10}
\fi
\chapter{Minimum Spanning Tree Recitation.} 


\section{The Spanning Tree Problem.}

\begin{definition}
  A spanning tree $T$ of a graph $G=(V,E)$ is a subset of edges in $E$ such that $T$ is a tree (having no cycles), and the graph $(V,T)$ is connected.   
\end{definition}

\begin{problem}[MST] Let $G = (V,E)$ be a weighted graph with weight function $w : E \rightarrow \mathbb{R}$. We extend the weight function to subsets of $E$ by defining the weight of $X\subset E$ to be $w(X)= \sum_{e \in X}w(e)$. The minimum spanning tree (MST) of $G$ is the spanning tree of $G$ that has the minimal weight according to $w$. Note that in general, there might be more than one MST for $G$. 
\end{problem}

\begin{definition}
  \label{def:cut}
  Let $U \subset V$. We define the cut associated with $U$ as the set of outer edges of $U$, namely all the edges $(u,v)\in E$ such that $u\in U$ and $v \notin U$. We use the notation $X = (U, \bar{U})$ to represent the cut. We say that $E^{\prime} \subset E$ respects the cut if $E^{\prime} \cap X = \emptyset$.
\end{definition} 

\begin{lemma}[The Cut-Lemma] 
  \label{lemma:cut}
  Let $T$ be an MST of $G$. Consider a forest $F \subset T$ and a cut $X$ that respects $X$ (i.e. $F \cap X = \emptyset$). Then $F \cup \text{ arg}\min_{e} w(e)$ is also contained in some MST. Note that it does not necessarily have to be the same tree $T$. 
\end{lemma}

\begin{proof}
  If $e \in T$ then $F \cup \{ e \} \subset T$ and we done. So consider the second case $ e \notin{T} $. The intersection $T\cap X$ must not be empty, otherwise there is no path connecting vertices on the opposite ends of the cut (In notations of \Cref{def:cut}, no path connects vertices in $U$ to vertices in $\bar{U}$), and that is contradiction for $T$ be a spanning tree. Denote by $e^{\prime} \in T \cap X$ \footnote{There is only one such $e^{\prime}$ but we haven't proved it yet. }. And consider $T^{\prime} = T / \{e^{\prime}\} \cup \{e\}$.

  Our goal is to prove that $T^{\prime}$ is a minimum spanning tree, let's start with showing that $T^{\prime}$ is a spanning tree. Assume that $T^{\prime}$ is not a spanning tree, since $T^{\prime}$ has $|V|-1$ edges, $T$ must have cycle (otherwise $T^{\prime}$ is a tree with $|V|$ vertices $\Rightarrow$ a spanning tree). Denote by $u,v$ the ends vertices of $e$ (i.e $(u,v) = e$) .   
\end{proof}


In the lecture, you have seen the Kruskal algorithm for finding an MST. This algorithm constructs the MST iteratively, where in each step it holds a forest $F$ contained in the MST and then looks for the minimal edge in a cut that it respects. Note that since $F$ has no cycles, any edge $e \subset E$ that does not close a cycle in $F$ must belong to some cut $X$ that is respected by $F$. By enforcing the order of edges being examined to be increasing in weight, it follows that the first edge that does not close a cycle is also the one with the minimum weight among them. Therefore, by \Cref{lemma:cut}, we can conclude that the forest obtained by adding $e$ into $F$ is contained in the MST, and we can continue with it.

\begin{algorithm}
\SetAlgoLined
\KwResult{Returns MST of given $G=(V,E, w)$ }
\caption{ Kruskal alg.}
sorts the $E$ according to $w$ \\
define $F_{0} = \emptyset$ and $i \leftarrow 0$ \\
\For{ $ e \in E$ in sorted order } {
  \If { $F_{i} \cup \{e\}$ has no cycle} {
    $F_{i+1} \leftarrow F_{i} \cup \{e\}$ \\
    $i \leftarrow i + 1$
  }
}
\Return $F_{i}$
\end{algorithm}

\input{../texlib/tail}


